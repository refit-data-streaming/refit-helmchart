minio: 
  persistence: 
    enabled: true
  resources: 
    requests: 
      memory: "1000Mi"

cassandra:
  serviceAccountName: refit
  image:
    repository: cdliotprototype/cdl-refit-cassandra
    tag: BETA-0.28
  cluster:
    replicaCount: 12
    seedCount: 1
  persistence:
    enabled: true
  resources:
    limits:
      memory: "10000Mi"
    requests:
      memory: "3000Mi"
  dbUser:
    existingSecret: refit-cassandra-credentials
  jvm:
    maxHeapSize: 1024m
    newHeapSize: 800m

postgresql:
  persistence:
    enabled: true
    storageClass: refit

  image:
    repository: cdliotprototype/cdl-refit-postgresql
    tag: 0.0.4
  global: 
    postgresql: 
      existingSecret: refit-postgresql-credentials
  
grafana: 
  persistence:
    enabled: true
  plugins: grafana-clock-panel,grafana-simple-json-datasource,simpod-json-datasource
  datasources:
    secretName: refit-grafana-datasource

flink: 
  flinkVersion: 1.10.1
  scalaVersion: 2.11
  jobManager: 
    limits: 
      memory: "5000Mi"
    requests: 
      memory: "2000Mi"
  taskManager: 
    replicas: 1
    limits: 
      memory: "5000Mi"
    requests: 
      memory: "2000Mi"
kafka: 
  replicaCount: 12
  autoCreateTopicsEnable: true
  imagePullPolicy: IfNotPresent
  #config: 
  #    log.flush.start.offset.checkpoint.interval.ms = 600000
  volumePermissions:
      enabled: true
  containers:
      securityContext:
          runAsUser: 0
  
  livenessProbe:
    initialDelaySeconds: 30
    periodSeconds: 30
    timeoutSeconds: 30
  #  failureThreshold: 10
  readinessProbe:
    initialDelaySeconds: 30
    periodSeconds: 30 
    timeoutSeconds: 30
  #  failureThreshold: 10
  persistence:
    enabled: true
    
  resources:
    limits:
      memory: "10000Mi"
    requests:
      memory: "3000Mi"


refit: 
  version: 0.1.10
  #version: 0.1.7  ## this one worked for 17 days most stable
  #version: 0.1.6
  #version: 0.1.5
  #version: 0.1.4
  #version: 0.1.2
  #version: 0.1.0
  encryptionKey: __generated__
  cassandraPassword: __generated__
  postgresqlPassword: __generated__
  schedulerConfigFile: secrets/config
  persistance: 
    enabled: true
    storageClass: refit
    size: 100Gi
  integrations:
    replicas: 1
    resources:
      limits:
        memory: "2000Mi"
      requests:
        memory: "500Mi"
  notebook:
    replicas: 1
    resources:
      limits:
        memory: "3000Mi"
      requests:
        memory: "1000Mi"
  ingestion:
    replicas: 1
    resources:
      limits:
        memory: "2000Mi"
      requests:
        memory: "500Mi"
  schemaConfigMap: __demo__
  demo: false